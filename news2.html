<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>News2</title>
</head>

<body>
<!-- Retrieved data will be dumped here -->

    <div class="row">
        <div class="col-sm-12">
        <br>
            <!-- This card will initially be made up of a card and wells for each of the articles retrieved -->
            <div class="card">
                <!-- card Heading for the retrieved articles box -->
                <div class="card-header">
                    <strong><i class="fa fa-table"></i> Top Articles</strong>
                </div>
                <!-- This main card will hold each of the resulting articles -->
                <div class="card-body" id="article-section"></div>
            </div>
        </div>
    </div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
var APIKey = "2bc1d4a81a2d4c66923810a1e539ad0d";
var queryURL = "https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=" + APIKey;


function updatePage(articlesData) {
  // Get from the form the number of results to display
  // API doesn't have a "limit" parameter, so we have to do this ourselves
  // Log the NYTData to console, where it will show up as an object
console.log(articlesData);
// console.log("------------------------------------");

  // Loop through and build elements for the defined number of articles
    for (var i = 0; i < 4; i++) {
        // Get specific article info for current index
        var article = articlesData.articles.docs[i];

        // Increase the articleCount (track article # - starting at 1)
        var articleCount = i + 1;

        // Create the  list group to contain the articles and add the article content for each
        var $articleList = $("<ul>");
        $articleList.addClass("list-group");

        // Add the newly created element to the DOM
        $("#article-section").append($articleList);
    }
        // // If the article has a headline, log and append to $articleList
        // var title = articles.title;
        // var $articleListItem = $("<li class='list-group-item articleTitle'>");

        // // If the article has a byline, log and append to $articleList
        // var byline = articles.url;
        // $articleListItem.append("<h5>" + articles.url + "</h5>");

        // // Append and log url
        // $articleListItem.append("<a href='" + article.web_url + "'>" + article.web_url + "</a>");
        // console.log(article.web_url);

        // // Append the article
        // $articleList.append($articleListItem);
}

    $.ajax({
        url: queryURL,
        method: "GET"
    }).then(updatePage);
    // We store all of the retrieved data inside of an object called "response"




</script>
</body>

</html>
